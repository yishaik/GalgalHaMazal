<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>גלגל המזל – מה חסר?</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style> body{font-family:'Assistant','Segoe UI',Tahoma,Geneva,Verdana,sans-serif}.container{max-width:1100px} </style>
</head>
<body class="bg-gray-50 text-gray-800">
  <header class="bg-white border-b site-header">
    <div class="container mx-auto px-4 py-4 flex items-center justify-between">
      <a class="text-xl font-bold" href="index.html">גלגל המזל</a>
      <button id="navToggle" class="md:hidden inline-flex items-center justify-center p-2 rounded border text-gray-600 hover:bg-gray-50" aria-label="פתח תפריט" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
      <nav id="siteNav" class="hidden md:flex flex-col md:flex-row md:items-center gap-2 md:gap-6 text-sm">
        <a class="text-gray-600 hover:text-gray-900" href="index.html">בית</a>
        <a class="text-gray-600 hover:text-gray-900" href="overview.html">סקירה</a>
        <a class="text-gray-600 hover:text-gray-900" href="architecture.html">תרשים מערכת</a>
        <a class="text-gray-600 hover:text-gray-900" href="wiring.html">תרשים חיווט</a>
        <a class="text-gray-600 hover:text-gray-900" href="bom.html">רשימת חלקים</a>
        <a class="text-gray-600 hover:text-gray-900" href="gallery.html">גלריה</a>
        <a class="text-gray-600 hover:text-gray-900" href="docs.html">מסמכים</a>
        <a class="text-gray-600 hover:text-gray-900" href="simulator.html">סימולטור</a>
        <a class="text-gray-900 font-semibold" href="missing.html">מה חסר?</a>
      </nav>
    </div>
  </header>

  <main class="container mx-auto px-4 py-10 space-y-8">
    <section class="bg-white rounded-xl shadow p-6">
      <h1 class="text-2xl font-bold mb-2">מה חסר ומה הלאה</h1>
      <p class="text-gray-700 mb-4">רשימת משימות והשלמות להשלמת התיעוד וההדגמות.</p>
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <h3 class="font-semibold mb-2">UI/תוכן</h3>
          <ul class="space-y-2 text-gray-700">
            <li><input type="checkbox" checked disabled> סימולטור חי לטבעת ולמטריצה</li>
            <li><input type="checkbox" checked disabled> Viewer ל‑Diagram.jsx בדפדפן</li>
            <li><input type="checkbox"> החלפת תמונות SVG בגלריה בצילומים אמיתיים</li>
            <li><input type="checkbox"> עמוד מדריך הרכבה מפורט עם תמונות</li>
            <li><input type="checkbox"> גרסת תיעוד באנגלית</li>
          </ul>
        </div>
        <div>
          <h3 class="font-semibold mb-2">הנדסה/תפעול</h3>
          <ul class="space-y-2 text-gray-700">
            <li><input type="checkbox"> קושחה/קוד לבקרים + מפות פינים</li>
            <li><input type="checkbox"> נהלי בטיחות חשמלית מפורטים</li>
            <li><input type="checkbox"> תהליך בדיקות וכיול (Hall, מטריצה, טבעת)</li>
            <li><input type="checkbox"> קישורי ספקים ומק"טים (BOM עם לינקים)</li>
            <li><input type="checkbox"> קבצי מכניקה (DXF/STL) למסגרת וקופסאות</li>
          </ul>
        </div>
      </div>
      <div class="mt-6 text-sm">
        הצעות/בעיות? פתחו Issue: <a class="underline" target="_blank" rel="noopener" href="https://github.com/yishaik/GalgalHaMazal/issues">GitHub Issues</a>
      </div>
    </section>

    <section class="bg-white rounded-xl shadow p-6">
      <h2 class="text-xl font-semibold mb-2">איך אפשר לעזור?</h2>
      <p class="text-gray-700 mb-4">שלחו תמונות, קבצים או קישורים – ואשלב אותם באתר.</p>
      <form id="uploadForm" class="space-y-4">
        <div>
          <label for="fileInput" class="block text-sm font-medium text-gray-700">בחרו קובץ:</label>
          <input type="file" id="fileInput" name="file" class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"/>
        </div>
        <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700">
          העלאה
        </button>
      </form>
      <p id="uploadStatus" class="mt-4 text-sm"></p>
    </section>
  </main>

  <footer class="border-t bg-white">
    <div class="container mx-auto px-4 py-6 text-sm text-gray-500">© גלגל המזל</div>
  </footer>

  <script>
    const btn = document.getElementById('navToggle');
    const nav = document.getElementById('siteNav');
    if (btn && nav) btn.addEventListener('click', ()=> nav.classList.toggle('hidden'));

    const uploadForm = document.getElementById('uploadForm');
    const fileInput = document.getElementById('fileInput');
    const uploadStatus = document.getElementById('uploadStatus');

    uploadForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      const file = fileInput.files[0];
      if (!file) {
        uploadStatus.textContent = 'אנא בחרו קובץ.';
        uploadStatus.className = 'text-red-600';
        return;
      }

      const formData = new FormData();
      formData.append('file', file);

      uploadStatus.textContent = 'מעלה...';
      uploadStatus.className = 'text-blue-600';

      try {
        const response = await fetch('/upload', {
          method: 'POST',
          body: formData,
        });
        const result = await response.json();
        if (response.ok) {
          uploadStatus.textContent = 'הקובץ הועלה בהצלחה!';
          uploadStatus.className = 'text-green-600';
        } else {
          throw new Error(result.message || 'העלאה נכשלה');
        }
      } catch (error) {
        uploadStatus.textContent = `שגיאה: ${error.message}`;
        uploadStatus.className = 'text-red-600';
      }
    });
  </script>
</body>
</html>
